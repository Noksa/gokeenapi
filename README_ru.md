## Утилита для выполнения команд в роутерах Кинетик через REST API

#### Видео

https://github.com/user-attachments/assets/404e89cc-4675-42c4-ae93-4a0955b06348

---

#### Важные примечания
* `gokeenapi` находится в процессе активной разработки!
* Дополнительной настройки на роутере не требуется - достаточно указать адрес роутера в конфигурации `gokeenapi` (например `http://192.168.1.1`)
* `gokeenapi` работает с роутерами Keenetic как по локальной сети так и по Интернету используя локальный адрес роутера (например `192.168.1.1`) или доменное имя от KeenDNS сервиса (например `my-router.keenetic.pro`)

---

#### Что утилита уже умеет:
* Добавлять\изменять дополнительные параметры ASC в существующих Wireguard соединениях
* Выводить список интерфейсов которые уже добавлены в роутер - для удобного поиска ID интерфейса для которого нужно добавить\удалить маршруты
* Удалять статичные маршруты только для указанного интерфейса. В Веб-конфигураторе роутера на текущий момент можно только удалить все созданные статичные маршруты для всех интерфейсов сразу
* Добавлять\обновлять статичные маршруты для указанного интерфейса из bat файлов с диска
* Добавлять\обновлять статичные маршруты для указанного интерфейса из ссылок, которые ведут на bat файл (например [отсюда](https://iplist.opencck.org/?format=bat&data=cidr4&site=youtube.com))
---

#### Конфигурация

`gokeenapi` можно сконфигурировать несколькими путями:
* Через конфигурационный файл YAML
* Через переменные окружения
* Через файл с переменными окружениями которые надо загрузить
* Через флаги в командной строке

Все варианты можно совмещать - например логин\пароль и API URL можно хранить в переменных окружения, а список файлов откуда нужно добавить маршруты можно добавить в yaml конфиг файл или передать через флаги

---

#### Примеры конфигурации

* [Yaml файл](https://github.com/Noksa/gokeenapi/blob/main/config_example.yaml)

* Переменные окружения - могут быть экспортированы в оболочку любым удобным способом (.bashrc/.zshrc и так далее)
```shell
export GOKEENAPI_URL="http://192.168.1.1"
export GOKEENAPI_LOGIN="admin"
export GOKEENAPI_PASSWORD="password"
./gokeenapi ...
```

* Файл с переменными окружения (`.gokeenapienv`) - должен лежать рядом с запускаемым файлом `gokeenapi`.

    Содержимое файла:
```shell
GOKEENAPI_LOGIN=admin
GOKEENAPI_URL=http://192.168.1.1
GOKEENAPI_PASSWORD=password
```

* Через флаги командной строки
```shell
./gokeenapi --url http://192.168.1.1 --login admin --password password
```

---

#### Примеры использования

Самый простой способ начать пользоваться `gokeenapi` через docker контейнеры или скачать бинарный файл для вашей ОС из последнего доступного релиза [тут](https://github.com/Noksa/gokeenapi/releases)

Примеры использования описаны в [документации на английском](https://github.com/Noksa/gokeenapi/blob/main/README.md)

---
