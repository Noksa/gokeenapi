# =============================================================================
# Keenetic Router API Configuration
# =============================================================================

# Router connection settings
keenetic:
  # Router URL - IP address or KeenDNS hostname (http/https supported)
  # Examples: http://192.168.1.1, https://myrouter.keenetic.pro
  url: http://192.168.1.1
  
  # Router admin login
  # Can be overridden with GOKEENAPI_KEENETIC_LOGIN environment variable
  login: super-login
  
  # Router admin password
  # Can be overridden with GOKEENAPI_KEENETIC_PASSWORD environment variable
  password: super-password

# Optional: Custom data directory for application files
# Default: system-specific directory
# Docker: automatically set to /etc/gokeenapi when GOKEENAPI_INSIDE_DOCKER is set
# dataDir: /path/to/data/directory

# =============================================================================
# Static Routes Configuration
# Used by: add-routes, delete-routes commands
# =============================================================================

routes:
  # Route configuration for specific interface
  # Use 'show-interfaces' command to list available interface IDs
  - interfaceId: Wireguard0
    
    # Local .bat files containing Windows-style route commands
    # Format: route add <network> mask <netmask> <gateway>
    # You can also specify .yaml files that contain lists of bat-file paths
    bat-file:
      - /path/to/batfile.bat
      - /path/to/batfile2.bat
    
    # Remote URLs serving .bat files with route definitions
    # Downloaded and processed by add-routes command
    bat-url:
      - https://iplist.opencck.org/?format=bat&data=cidr4&site=instagram.com
      - https://iplist.opencck.org/?format=bat&data=cidr4&site=youtube.com
      - https://iplist.opencck.org/?format=bat&data=cidr4&site=facebook.com
  
  # Additional interface example using YAML file with bat-file list
  # This allows you to maintain a shared list of bat files across multiple configs
  - interfaceId: Wireguard1
    bat-file:
      # When a .yaml/.yml file is specified, it's loaded and expanded to bat-file paths
      # The YAML file should have structure: bat-file: [list of paths]
      # Relative paths in the YAML file are resolved relative to this config file's directory
      - batfiles/common-routes.yaml
    
  # You can also mix .yaml lists with regular .bat files
  - interfaceId: Wireguard2
    bat-file:
      - batfiles/common-routes.yaml
      - /path/to/additional-batfile.bat
    bat-url:
      - https://example.com/routes.bat

# =============================================================================
# DNS Records Configuration
# Used by: add-dns-records, delete-dns-records commands
# =============================================================================

dns:
  records:
    # Static DNS records to manage in the router
    # Each domain can resolve to multiple IP addresses
    
    - domain: keenetic.local
      ip:
        - 192.168.1.1
        - 192.168.2.1
    
    - domain: example.local
      ip:
        - 10.0.0.1
  
  # =============================================================================
  # DNS-Routing Configuration (Policy-Based Routing by Domain)
  # Used by: add-dns-routing, delete-dns-routing commands
  # =============================================================================
  
  routes:
    groups:
      # Domain groups for routing specific domains through designated interfaces
      # Each group creates an object-group and dns-proxy route on the router
      
      - name: social-media
        # Local .txt files containing domains (one per line)
        # You can also specify .yaml files that contain lists of domain-file paths
        domain-file:
          - domains/social-media.txt
          - domains/additional-social.txt
          - domains/common-domains.yaml  # YAML file with domain-file list
        
        # Remote URLs serving .txt files with domain lists
        # Downloaded and processed by add-dns-routing command
        domain-url:
          - https://example.com/social-media-domains.txt
        
        # Target interface for routing traffic to these domains
        # Use 'show-interfaces' command to list available interface IDs
        interfaceId: Wireguard0
      
      - name: streaming
        domain-file:
          - domains/streaming.txt
        domain-url:
          - https://example.com/streaming-services.txt
        interfaceId: Wireguard1
      
      # Example: Using only local files
      - name: local-only
        domain-file:
          - domains/local-domains.txt
        interfaceId: Wireguard2
      
      # Example: Using only remote URLs
      - name: remote-only
        domain-url:
          - https://example.com/blocked-domains.txt
        interfaceId: ISP

# =============================================================================
# Logging Configuration
# Used by: --debug global flag
# =============================================================================

logs:
  # Enable debug logging for all commands
  # Also controllable via --debug command line flag
  debug: false

# =============================================================================
# Cache Configuration
# =============================================================================

cache:
  # URL cache TTL - how long to cache downloaded content from bat-url and domain-url
  # Format: duration string (e.g., "1m", "5m", "1h", "30s")
  # Default: 1m (1 minute) if not specified
  # Reduces network requests when running commands multiple times
  urlTtl: 1m